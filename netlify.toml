[build]
  publish = "public"

[functions]
  directory = "netlify/functions"
  node_bundler = "esbuild"

# Serve JS file directly (avoid catch-all intercept)
[[redirects]]
  from = "/ZInfinityAuth.js"
  to = "/ZInfinityAuth.js"
  status = 200

# Serve popup page normally
[[redirects]]
  from = "/ZIAuth.html"
  to = "/ZIAuth.html"
  status = 200

# Catch-all falls back to your popup main page
[[redirects]]
  from = "/*"
  to = "/ZIAuth.html"
  status = 200
